(()=>{"use strict";const e=process.env.GEONAMES_USERNAME,t=process.env.WEATHERBIT_API_KEY,a=process.env.PIXABAY_API_KEY,n=async t=>{const a=await fetch(`http://api.geonames.org/searchJSON?${t}&maxRows=1&username=${e}`);return(await a.json()).geonames[0]},s=async(e,a,n)=>{const s=await fetch(`https://api.weatherbit.io/v2.0/forecast/daily?lat=${e}&lon=${a}&key=${t}`);return(await s.json()).data.find((e=>e.valid_date===n))},o=async e=>{const t=await fetch(`https://pixabay.com/api/?key=${a}&q=${e}&image_type=photo`);return(await t.json()).hits[0]},r=(e,t,a,n)=>{document.getElementById("results").innerHTML=`\n        <h2>Trip to ${e.name}, ${e.countryName}</h2>\n        <p>Departing: ${n}</p>\n        <p>Weather: ${t.temp}Â°C, ${t.weather.description}</p>\n        <img src="${a.webformatURL}" alt="${e.name}">\n    `};document.getElementById("travel-form").addEventListener("submit",(async e=>{e.preventDefault();const t=document.getElementById("destination").value,a=document.getElementById("date").value;if(t&&a)try{const e=await n(t),i=await s(e.lat,e.lng,a),c=await o(t);r(e,i,c,a)}catch(e){console.log("Error:",e)}else alert("Please enter both a destination and a date.")}))})();